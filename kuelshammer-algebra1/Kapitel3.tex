\chapter{Der Restklassenring \texorpdfstring{$modulo \ m$}{modulo m}}
%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
Bekanntlich besteht ein \highl{Ring} aus einer Menge $R$ und zwei Verknüpfungen $+, \cdot \colon R \times R \mapsto R$ mit folgenden Eigenschaften:
\begin{enumerate}[(i)]
	\item $(R, +)$ ist abelsche Gruppe
	\item $(ab)c = a(bc)$ \hfill $(a, b, c \in R)$
	\item $a(b + c) = ab + ac$ \hfill $(a, b, c \in R)$
	\item $(a + b)c = ac + bc$ \hfill $(a, b, c \in R)$
	\item Es exisitiert ein $1 \in R$ mit $1a = a = a1$ für $a \in R$
\end{enumerate}
\randbem{Unterschied zwischen Ring und Körper: bzgl. Multiplikation keine Gruppe, d.\,h. man muss nicht dividieren können.}
Bekanntlich ist das Element $1$ eindeutig bestimmt. Es heißt \highl{Einselement}, und man schreibt $1 = 1_R$.\\
Analog enthält $R$ genau ein Element $0$ (\highl{Nullelement}) mit $a + 0 = a = 0 + a$ für $a \in R$. Ferner existiert zu jedem $a \in R$ genau ein $-a \in R$ (\highl{Negatives Element}{negatives Element}) mit $a + (-a) = 0 = (-a) + a$. Dabei gilt: \[0a = 0 = a0, -(-a) = a, (-a)b = -(ab)\] Statt $a + (-b)$ schreibt man $a - b$.\\
Gilt $ab = ba$ für alle $a, b \in R$, so heißt R \highl{Kommutativer Ring}{kommutativer Ring}.\\
z.\,B.: sind $\Z$ und jeder Körper $K$ kommutative Ringe, $\N, \N_0$ sind keine Ringe.\\
Für $n \in \N$ ist $K^{n \times n}$ mit der üblichen Addition und Multiplikation von Matrizen ein Ring (\highl{Matrixring}). Für $n \geq 2$ ist $K^{n \times n}$ nicht kommutativ. Schließlich ist ${0}$ ein Ring. \randbem{Hier ist das Nullelement das Einselement; aber kein Körper, denn da müsste $1_K \neq 0_K$.}
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Satz 3.1
%%%%%%%%%%%%%%%%%%%
\begin{satz}\label{satz:3.1}
Für $m \in \N$ wird 
\[\Z / m\Z = \left\{a + m\Z \colon a \in \Z\right\} = \left\{0 + m\Z, 1 + m\Z, \ldots, m - 1 + m\Z\right\}\] 
zu einem kommutativen Ring mit: \[(a + m\Z) + (b + m\Z) := a \mystackrel{+}{\cdot} b + m\Z \ \ \ (a, b \in \Z)\]
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Definition
%%%%%%%%%%%%%%%%%%%
\begin{defi}
$\ZmZ{m}$: Restklassenring $modulo \ m$.
\end{defi}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
Wir müssen zuerst zeigen, dass die Verknüpfungen "`wohldefiniert"' sind, d.\,h. nicht von der Schreibweise der Restklasse abhängen. Das bedeutet: aus $a + m\Z = a' + m\Z$ und $b + m\Z = b' + m\Z$ folgt: \[a \mystackrel{+}{\cdot} b + m\Z = a' + b' + m\Z.\] Sei also $a + m\Z = a' + m\Z$ und $b + m\Z = b' + m\Z$. Dann ist $a \equiv a' \pmod{m}$ und $b' \equiv b \pmod{m}$, also auch $a \mystackrel{+}{\cdot} b \equiv a' \mystackrel{+}{\cdot} b' \pmod{m}$ nach \autoref{satz:2.1}. Dann $a + b + m\Z = a' + b' + m\Z$.\\
Damit ist die Wohldefiniertheit gezeigt. Die Rechenregeln folgen leicht:\\
z.\,B.: ist $(a + m\Z)(b + m\Z) = ab + m\Z = ba + m\Z = (b + m\Z)(a + m\Z) \ (a, b \in \Z)$\\
Nullelement ist $0 + m\Z$. Einselement ist $1 + m\Z$, negativ zu $a + m\Z$ ist $-a + m\Z$.
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Beispiel
%%%%%%%%%%%%%%%%%%%
\begin{bsp}
$\ZmZ{6}$: \ \
\begin{tabular}[t]{l|llllll}
+ & 0 & 1 & 2 & 3 & 4 & 5\\
\hline
0 & 0 & 1 & 2 & 3 & 4 & 5\\
1 & 1 & 2 & 3 & 4 & 5 & 0\\
2 & 2 & 3 & 4 & 5 & 0 & 1\\
3 & 3 & 4 & 5 & 0 & 1 & 2\\
4 & 4 & 5 & 0 & 1 & 2 & 3\\
5 & 5 & 0 & 1 & 2 & 3 & 4\\
\end{tabular} \ \ \
\begin{tabular}[t]{l|llllll}
$\cdot$ & 0 & 1 & 2 & 3 & 4 & 5\\
\hline
0 & 0 & 0 & 0 & 0 & 0 & 0\\
1 & 0 & 1 & 2 & 3 & 4 & 5\\
2 & 0 & 2 & 4 & 0 & 2 & 4\\
3 & 0 & 3 & 0 & 3 & 0 & 3\\
4 & 0 & 4 & 2 & 0 & 4 & 2\\
5 & 0 & 5 & 4 & 3 & 2 & 1\\
\end{tabular}
\hfill\\\\\\
$\ZmZ{6}$ ist kein Körper. z.\,B.: ist $\underbrace{(2 + 6\Z)}_{\neq 0 + 6\Z}\underbrace{(3 + 6\Z)}_{\neq 0 + 6\Z} = 0 + 6\Z$
\end{bsp}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
\begin{enumerate}[(i)]
	\item Ein Element $a$ in einem Ring $R$ heißt \highl{Invertierbar}{invertierbar} (\highl{Einheit}, \highl{Unit}), wenn ein $b \in R$ mit $ab = 1 = ba$ existiert.\\
	Bekanntlich ist dann $b$ durch $a$ eindeutig bestimmt. Man nennt $b$ das Inverse zu $a$ und schreibt $b = a^{-1}$. Dann ist auch $a^{-1}$ invertierbar und $(a^{-1})^{-1} = a$. Ist auch $b \in R$ invertierbar, so ist auch $ab$ invertierbar, und $(ab)^{-1} = b^{-1}a^{-1}$. Daher ist \[U(R) = \left\{a \in R \colon a \text{ invertierbar}\right\}\] ein Gruppe bezüglich $\cdot$, die \highl{Einheitsgruppe} von $R$; $1_R$ ist das Einselement von $U(R)$.
	\item Im Fall $R = \ZmZ{m} \ \ (m \in \N)$ heißt: 
	\[
	\begin{array}{lcl}
	U(R) & = & \left\{a + m\Z \colon \exists \ b \in \Z \colon (a + m\Z)(b + m\Z) = 1 + m\Z\right\}\\
	     & = & \left\{a + m\Z \colon \exists \ b \in \Z \colon ab \equiv 1 \pmod{m}\right\}\\
	     & \stackrel{\autoref{satz:2.3}}{=} & \left\{a + m\Z \colon \ggT(a, m) = 1\right\}
	\end{array}
	\] \highl{Prime Restklassengruppe $modulo \ m$} \randbem{Gruppe ist nicht prim, sondern nur die Restklassen}\\
	z.\,B.: ist $U(\ZmZ{6}) = \left\{1 + 6\Z, 5 + 6\Z\right\}$ \randbem{Bei einem Körper müssen alle Elemente inverterierbar sein!}\\
	\item Für $a + m\Z \in U(\ZmZ{m})$ berechnet man $(a + m\Z)^{-1}$ mit dem erweiterten euklidischen Algorithmus.\\
	Im Fall $a + m\Z = 39 + 100\Z$ erhalten wir z.\,B.: \[1 = \ggT(39, 100) = 16 \cdot 100 - 41 \cdot 39 \equiv 59 \cdot 39 \pmod{100}\] Also: $(39 + 100\Z)^{-1} = 59 + 100\Z$.
	\item Die \highl{Eulerische $\varphi$-Funktion} $\varphi \colon \N \mapsto \N$ (\textsc{Euler} 1707--1783) wird definiert durch:
	\[ \begin{array}{lcl}
	\varphi(m) & := & \left|U(\ZmZ{m})\right| = \left|\left\{a + m\Z \colon \ggT(a, m) = 1\right\}\right|\\
	           & = & \left|\left\{a \in \N \colon 1 \leq a \leq m, \ggT(a, m) = 1\right\}\right| \ \ \ (m \in \N)
	\end{array}\]
	z.\,B. ist $\varphi(6) = 2$
\end{enumerate}
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Satz 3.2
%%%%%%%%%%%%%%%%%%%
\begin{satz}\label{satz:3.2}
Für $m \in \N$ ist $\sum\limits_{d\mid m} \varphi(d) = m$; dabei durchläuft die Summe alle positiven Teiler $d$ von $m$.
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
\[\begin{array}[t]{lcl}
m & = & \left|\left\{a \in \N \colon 1 \leq a \leq m\right\}\right|\\
  & = & \sum\limits_{d\mid m}\left|\left\{a \in \N \colon 1 \leq a \leq m, \ggT(a, m) = d\right\}\right|\\
  & = & \left|\left\{b \in \N \colon 1 \leq b \leq \frac{m}{d}, \ggT(b, \frac{m}{d}) = 1\right\}\right|\\
  & = & \sum\limits_{d\mid m} \varphi(\frac{m}{d}) = \sum\limits_{d\mid m} \varphi(d)
\end{array}\].
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
Damit kann man $\varphi(m)$ induktiv berechnen:\\
\[\begin{array}[t]{ll}
\varphi(1) = 1, & \varphi(1) + \varphi(2) = 2 \Rightarrow \varphi(2) = 1\\
                & \varphi(1) + \varphi(5) = 5 \Rightarrow \varphi(5) = 4\\
                & \varphi(1) + \varphi(2) + \varphi(5) + \varphi(10) = 10 \Rightarrow \varphi(10) = 4
\end{array}\]
Wir suchen nach einer expliziten Formel.
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Definition
%%%%%%%%%%%%%%%%%%%
\begin{defi}
Die \highl{Möbius-Funktion} $\mu \colon \N \mapsto \Z$ (\textsc{Möbius} 1790--1868) wird definiert durch:
\[\mu(m) := \begin{cases}(-1)^r & \text{falls } m \text{ Produkt von } r \text{ verschiedenen Primzahlen ist}\\ 0 & \text{sonst}\end{cases}\]
\end{defi}

%%%%%%%%%%%%%%%%%%%
% Beispiel
%%%%%%%%%%%%%%%%%%%
\begin{bsp}
$\mu(4) = \mu(2^2) = 0$\\
$\mu(6) = \mu(2 \cdot 3) = (-1)^2 = 2$\\
$\mu(1) := 1$
\end{bsp}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
$\ggT(m, n) = 1 \Rightarrow \mu(mn) = \mu(m) \cdot \mu(n)$
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Satz 3.3
%%%%%%%%%%%%%%%%%%%
\begin{satz}\label{satz:3.3}
$m \in \N \Rightarrow \sum\limits_{d\mid m} \mu(d) \begin{cases}1 & m = 1\\ 0 & \text{sonst}\end{cases}$
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
\OE{} $m \neq 1$. Betrachte Primfaktorzerlegung $m = p_1^{a_1} \cdot \ldots \cdot p_r^{a_r}$.\\
Dann: \[\begin{array}{lcl}
\sum\limits_{d\mid m}\mu(d) & = & \sum\limits_{i_1 = 0}^{a_1} \ldots \sum\limits_{i_r = 0}^{a_r} \underbrace{\mu(p_1^{i_1} \cdot \ldots \cdot p_r^{i_r})}_{\mu(p_1^{i_1}) \cdot \ldots \cdot \mu(p_r^{i_r})} \\
 & = & \prod\limits_{j = 0}^{r}\left[\underbrace{\mu(p_j^0)}_{= 1} + \underbrace{\mu(p_j^1)}_{= -1} + \underbrace{\mu(p_j^2)}_{= 0} + \ldots + \underbrace{\mu()p_j^{a_i}}_{= 0}\right] = 0
\end{array}\].
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Satz 3.4
%%%%%%%%%%%%%%%%%%%
\begin{satz}[Möbius Inversion]\label{satz:3.4}
Für Funktionen $f, F \colon \N \mapsto \C$ sind äquivalent:
\begin{enumerate}[(1)]
	\item $F(n) = \sum\limits_{d\mid n} f(d)$ für $n \in \N$
	\item $f(n) = \sum\limits_{d\mid n} \mu(d)F(\frac{n}{d})$ für $n \in \N$
\end{enumerate}
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
(1) $\Rightarrow$ (2): Sei (1) erfüllt. Für $m \in \N$ gilt dann:\\
\[\begin{array}{lcl}
\sum\limits_{d\mid m}\mu(d)F(\frac{m}{d}) & = & \sum\limits_{d\mid m}\mu(\frac{m}{d})F(d) = \sum\limits_{e\mid d\mid m}\mu(\frac{m}{d})f(e)\\
& = & \sum\limits_{e\mid m}f(e)\sum\limits_{d, e\mid d\mid m}\mu(\frac{m}{d}) = \sum\limits_{e\mid m}f(e)\underbrace{\sum\limits_{c\mid \frac{m}{e}}\mu(c)}_{= 0 \text{ außer für }\frac{m}{e} = 1}\\
& = & f(m)
\end{array}\]
(2) $\Rightarrow$ (1): Sei (2) erfüllt. Für $m \in \N$ gilt dann:\\
\[\begin{array}{lcl}
\sum\limits_{d\mid m}f(d) & = & \sum\limits_{d\mid m}\sum\limits_{e\mid d}\mu(e)F(\frac{d}{e}) = \sum\limits_{e\mid d\mid m}\mu(\frac{d}{e})F(e)\\
& = & \sum\limits_{e\mid m}F(e)\sum\limits_{d, e\mid d\mid m}\mu(\frac{d}{e}) = \sum\limits_{e\mid m}F(e)\underbrace{\sum\limits_{c\mid \frac{m}{e}}\mu(c)}_{= 0 \text{ außer für }\frac{m}{e} = 1}\\
& = & F(m)
\end{array}\]
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Satz 3.5
%%%%%%%%%%%%%%%%%%%
\begin{satz}\label{satz:3.5}
Für $m \in \N$ mit Primfaktorzerlegung $m = p_1^{a_1} \cdot \ldots \cdot p_r^{a_r}$ gilt:\\
\[\varphi(m) = \left(p_1^{a_1} - p_1^{a_1-1}\right) \ldots \left(p_r^{a_r} - p_r^{a_r-1}\right) = m\left(1 - \frac{1}{p_1}\right) \ldots \left(1 - \frac{1}{p_r}\right)\]
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
Möbius-Inversion mit $f := \varphi, F := id_{\N}$ ergibt:\\
\[\begin{array}{lcl}
\varphi(m) & = & \sum_{d\mid m} \mu(d) \underbrace{F(\frac{m}{d})}_{= \frac{m}{d}}\\
& = & m - \frac{m}{p_1}- \frac{m}{p_2} - \ldots - \frac{m}{p_r} + \frac{m}{p_1p_2} + \ldots + \frac{m}{p_{r-1}p_r} + \ldots + (-1)^r\frac{m}{p_1p_2\ldots p_r}\\
& = & m(1 - \frac{1}{p_1}) \ldots (1 - \frac{1}{p_r})
\end{array}\]
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
$\ggT(m, n) = 1 \Rightarrow \varphi(mn) = \varphi(m) \varphi(n)$
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Beispiel
%%%%%%%%%%%%%%%%%%%
\begin{bsp}
$\varphi(100) = \varphi(2^2 \cdot 5^2) = (2^2 - 2^1)(5^2 - 5^1) = 2 \cdot 20 = 40$
\end{bsp}

%%%%%%%%%%%%%%%%%%%
% Satz 3.6
%%%%%%%%%%%%%%%%%%%
\begin{satz}\label{satz:3.6}
Für $m \in \N$ gilt: $\ZmZ{m}$ Körper $\Leftrightarrow$ $m$ Primzahl
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
\OE{} $m \neq 1$ \randbem{Körper benötigt mind. 2 Elemente!}\\
\begin{itemize}
	\item["`$\Rightarrow$"'] Sei $m \notin \PZ$, dann gilt $m = a \cdot b$ mit $a, b \in \left\{1, \ldots, m - 1\right\}$. Dann ist $a + m\Z \neq 0 \neq b + m\Z$, aber \[(a + m\Z)(b + m\Z) = m + m\Z = 0 + m\Z\]
Also: $\ZmZ{m}$ kein Körper.\\
	\item["`$\Leftarrow$"'] Sei $m \in \PZ$. Dann ist $\varphi(m) = m - 1$, d.\,h. $\ZmZ{m}$ enthält $m - 1$ invertierbare Elemente, d.\,h. alle Elemente in $\ZmZ{m}$ außer der Null sind invertierbar. Also ist $\ZmZ{m}$ ein Körper.
	\end{itemize}
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Satz 3.7
%%%%%%%%%%%%%%%%%%%
\begin{satz}[Wilson 1741--1793]\label{satz:3.7}
Für jeden endlichen Körper $K$ gilt:
\[\prod_{0 \neq x \in K}x = -1.\]
Insbesondere gilt für $p \in \PZ$:
\[(p - 1)! \equiv -1 \pmod{p}.\]
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
Setze $\F_p := \ZmZ{p}$ für $p \in \PZ$
\end{bem}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
In $\prod\limits_{0 \neq x \in K}x$ kürze man jeweils $x$ gegen $x^{-1}$, dies geht, falls $x \neq x^{-1}$ ist.
\[x = x^{-1} \Leftrightarrow x^2 = 1 \Leftrightarrow \underbrace{x^2 - 1}_{(x + 1)(x - 1)} = 0 \Leftrightarrow x = \pm 1.\]
Also $\prod\limits_{0 \neq x \in K}x = 1 \cdot (-1) = -1$.\\
Für $K := \ZmZ{p}$ erhält man: $\underbrace{\prod\limits_{i = 1}^{p - 1}(i + p\Z)}_{= -1 + p\Z} = \prod\limits_{i = 1}^{p}i + p\Z = (p - 1)! + p\Z$, d.\,h. $(p - 1)! = -1 \pmod{p}$
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Satz 3.8
%%%%%%%%%%%%%%%%%%%
\begin{satz}[\textsc{Euler-Fermat}]\label{satz:3.8}
Für jede endliche abelsche Gruppe $G$ und jedes $g \in G$ gilt: \[g^{\left|G\right|}.\] Insbesondere ist $a^{\varphi(m)} \equiv 1 \pmod{m}$ für alle $m \in \N$, $a \in \Z$ mit $\ggT(a, m) = 1$.
\end{satz}

%%%%%%%%%%%%%%%%%%%
% Beweis
%%%%%%%%%%%%%%%%%%%
\begin{beweis}
Sei $G = \left\{x_1, \ldots, x_n\right\}$, $n = \left|G\right|$. Für $i, j = 1, \ldots, n$ gilt dann \[gx_i = gx_j \Leftrightarrow g^{-1}gx_i = g^{-1}gx_j \Leftrightarrow x_i = x_j\] Daher ist auch $G = \left\{gx_1, \ldots, gx_n\right\}$. Also gilt: \[x := \prod_{i = 1}^{n}x_i = \prod_{i = 1}^{n}\left(gx_i\right) = g^n\prod_{i = 1}^{n} = g^nx,\] d.\,h. $g^n = 1$.\\
Für $G = U\left(\ZmZ{m}\right)$, d.\,h. $\left|G\right| = \varphi(m)$ und $g := a + m\Z \in G$ gilt also: \[1 + m\Z = g^{\left|G\right|} = \left(a + m\Z\right)^{\varphi(m)} = a^{\varphi(m)} + m\Z,\] d.\,h. $a^{\varphi(m)} \equiv 1 \pmod{m}$.
\end{beweis}

%%%%%%%%%%%%%%%%%%%
% Bemerkung
%%%%%%%%%%%%%%%%%%%
\begin{bem}
\begin{enumerate}[(i)]
	\item Für $p \in \PZ$ gilt also:
	\begin{itemize}
		\item $a^{p-1} \equiv 1 \pmod{p}$ für alle $a \in \Z$ mit $p\nmid a$
		\item $a^p \equiv a \pmod{p}$ für alle $a \in \Z$
	\end{itemize}
	\item Wir werden den Satz später auf nicht abelsche, endliche Gruppen verallgemeinern.
\end{enumerate}
\end{bem}